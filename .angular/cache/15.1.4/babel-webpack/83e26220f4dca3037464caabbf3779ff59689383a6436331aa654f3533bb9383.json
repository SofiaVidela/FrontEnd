{"ast":null,"code":"import { LoginUsuario } from 'src/app/model/login-usuario';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/token.service\";\nimport * as i2 from \"src/app/service/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(tokenService, authService, router) {\n    this.tokenService = tokenService;\n    this.authService = authService;\n    this.router = router;\n    /* Codigo de login Connnect */\n    this.isLogged = false;\n    this.isLogginFail = false;\n    this.roles = [];\n  }\n  ngOnInit() {\n    if (this.tokenService.getToken()) {\n      this.isLogged = true;\n      this.isLogginFail = false;\n      this.roles = this.tokenService.getAuthorities();\n    }\n  }\n  onLogin() {\n    this.loginUsuario = new LoginUsuario(this.nombreUsuario, this.password);\n    this.authService.login(this.loginUsuario).subscribe(data => {\n      this.isLogged = true;\n      this.isLogginFail = false;\n      this.tokenService.setToken(data.token);\n      this.tokenService.setUserName(data.nombreUsuario);\n      this.tokenService.setAuthorities(data.authorities);\n      this.roles = data.authorities;\n      this.router.navigate(['']);\n    }, err => {\n      this.isLogged = false;\n      this.isLogginFail = true;\n      this.errMsj = err.console.error.mensaje;\n      console.log(this.errMsj);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.TokenService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[\"id\", \"backgound\", 1, \"row\", \"container-fluid\"], [\"id\", \"caja\", 1, \"\"], [1, \"\"], [1, \"h3\"], [\"id\", \"form\", \"action\", \"\", 1, \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"form-group\", \"col-auto\", \"mx-auto\", \"p-2\"], [\"for\", \"nombreUsuario\", 1, \"form-label\", \"sv-tipo1\"], [\"type\", \"email\", \"name\", \"nombreUsuario\", \"id\", \"nombreUsuario\", \"placeholder\", \"@\", \"required\", \"\", 1, \"form-control\", \"sv-tipo2\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"form-label\", \"sv-tipo1\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"placeholder\", \"De 8 a 20 caracteres\", \"required\", \"\", 1, \"form-control\", \"sv-tipo2\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"m-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-dark\", \"sv-tipo1\"], [\"href\", \"\", \"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"linktext\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n      i0.ɵɵtext(4, \"Iniciar sesi\\u00F3n para editar el portfolio\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\")(6, \"form\", 4, 5);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onLogin();\n      });\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Nombre de Usuario (Email)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.nombreUsuario = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n      i0.ɵɵtext(19, \"Enviar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 2)(21, \"h6\")(22, \"a\", 14);\n      i0.ɵɵtext(23, \"volver al perfil\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"h6\")(25, \"a\", 14);\n      i0.ɵɵtext(26, \"Recuperar contrase\\u00F1a\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.nombreUsuario);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  styles: [\"#backgound[_ngcontent-%COMP%]{\\r\\n    background-color: #AFC073;\\r\\n    display: flex;\\r\\n    height: 700px;\\r\\n    align-content: center;\\r\\n    justify-content: space-around;\\r\\n\\r\\n}\\r\\n#caja[_ngcontent-%COMP%]{\\r\\n    background-color: #A3AF9C;\\r\\n    border-radius: 50px;\\r\\n    box-shadow: 3px 3px 20px #49562a ;\\r\\n    text-align: center;\\r\\n    padding: 20px;\\r\\n    width: -moz-fit-content;\\r\\n    width: fit-content;\\r\\n}\\r\\n#form[_ngcontent-%COMP%]{\\r\\n    display: grid;\\r\\n    justify-content: space-around;\\r\\n}\\r\\n.linktext[_ngcontent-%COMP%]{\\r\\n    text-decoration: none;\\r\\n    color: #49562a;\\r\\n    font-size: 0.8em;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLDZCQUE2Qjs7QUFFakM7QUFDQTtJQUNJLHlCQUF5QjtJQUN6QixtQkFBbUI7SUFDbkIsaUNBQWlDO0lBQ2pDLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsdUJBQWtCO0lBQWxCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksYUFBYTtJQUNiLDZCQUE2QjtBQUNqQztBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLGNBQWM7SUFDZCxnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIjYmFja2dvdW5ke1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0FGQzA3MztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDcwMHB4O1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcblxyXG59XHJcbiNjYWphe1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0EzQUY5QztcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICBib3gtc2hhZG93OiAzcHggM3B4IDIwcHggIzQ5NTYyYSA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG59XHJcbiNmb3Jte1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG59XHJcbi5saW5rdGV4dHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiAjNDk1NjJhO1xyXG4gICAgZm9udC1zaXplOiAwLjhlbTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,YAAY,QAAQ,6BAA6B;;;;;AAW1D,OAAM,MAAOC,cAAc;EAWzBC,YAAoBC,YAA0B,EAC1BC,WAAwB,EACxBC,MAAa;IAFb,iBAAY,GAAZF,YAAY;IACZ,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IAZ1B;IAEA,aAAQ,GAAG,KAAK;IAChB,iBAAY,GAAG,KAAK;IAIpB,UAAK,GAAW,EAAE;EAKiB;EAGnCC,QAAQ;IACN,IAAG,IAAI,CAACH,YAAY,CAACI,QAAQ,EAAE,EAAC;MAC9B,IAAI,CAACC,QAAQ,GAAE,IAAI;MACnB,IAAI,CAACC,YAAY,GAAE,KAAK;MACxB,IAAI,CAACC,KAAK,GAAE,IAAI,CAACP,YAAY,CAACQ,cAAc,EAAE;;EAElD;EAEEC,OAAO;IACL,IAAI,CAACC,YAAY,GAAC,IAAIb,YAAY,CAAC,IAAI,CAACc,aAAa,EAAC,IAAI,CAACC,QAAQ,CAAC;IACpE,IAAI,CAACX,WAAW,CAACY,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC,CAACI,SAAS,CAACC,IAAI,IAAE;MACxD,IAAI,CAACV,QAAQ,GAAE,IAAI;MACnB,IAAI,CAACC,YAAY,GAAE,KAAK;MACxB,IAAI,CAACN,YAAY,CAACgB,QAAQ,CAACD,IAAI,CAACE,KAAK,CAAC;MACtC,IAAI,CAACjB,YAAY,CAACkB,WAAW,CAACH,IAAI,CAACJ,aAAa,CAAC;MACjD,IAAI,CAACX,YAAY,CAACmB,cAAc,CAACJ,IAAI,CAACK,WAAW,CAAC;MAClD,IAAI,CAACb,KAAK,GAAEQ,IAAI,CAACK,WAAW;MAC5B,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EAACC,GAAG,IAAG;MACN,IAAI,CAACjB,QAAQ,GAAC,KAAK;MACnB,IAAI,CAACC,YAAY,GAAC,IAAI;MACtB,IAAI,CAACiB,MAAM,GAAED,GAAG,CAACE,OAAO,CAACC,KAAK,CAACC,OAAO;MACtCF,OAAO,CAACG,GAAG,CAAC,IAAI,CAACJ,MAAM,CAAC;IAC1B,CAAC,CAAC;EACJ;;AAxCSzB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb3BC,8BAAgD;MAGrBA,4DAAuC;MAAAA,iBAAK;MAE/DA,2BAAK;MAC+CA;QAAA,OAAYC,aAAS;MAAA,EAAC;MAClED,8BAAiB;MAE8CA,0CAAyB;MAAAA,iBAAQ;MACxFA,iCACyE;MAAtCA;QAAA;MAAA,EAA2B;MAD9DA,iBACyE;MAE7EA,+BAA6C;MACSA,gCAAU;MAAAA,iBAAQ;MACpEA,kCAEoC;MAAhCA;QAAA;MAAA,EAAsB;MAF1BA,iBAEoC;MAG5CA,gCAA4B;MACwCA,uBAAM;MAAAA,iBAAS;MAEnFA,+BAAc;MACiEA,iCAAgB;MAAAA,iBAAI;MAC/FA,2BAAI;MAAsEA,0CAAoB;MAAAA,iBAAI;;;MAd3DA,gBAA2B;MAA3BA,2CAA2B;MAM1DA,eAAsB;MAAtBA,sCAAsB","names":["LoginUsuario","LoginComponent","constructor","tokenService","authService","router","ngOnInit","getToken","isLogged","isLogginFail","roles","getAuthorities","onLogin","loginUsuario","nombreUsuario","password","login","subscribe","data","setToken","token","setUserName","setAuthorities","authorities","navigate","err","errMsj","console","error","mensaje","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\sofia\\Documents\\PROGRAMACION\\CursosFont-End\\ProyectoSPA\\Portfolio\\FrontEnd\\src\\app\\components\\login\\login.component.ts","C:\\Users\\sofia\\Documents\\PROGRAMACION\\CursosFont-End\\ProyectoSPA\\Portfolio\\FrontEnd\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoginUsuario } from 'src/app/model/login-usuario';\r\nimport { AuthService } from 'src/app/service/auth.service';\r\nimport { TokenService } from 'src/app/service/token.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\n\r\n\r\nexport class LoginComponent implements OnInit {\r\n  /* Codigo de login Connnect */\r\n \r\n  isLogged = false;\r\n  isLogginFail = false;\r\n  loginUsuario! : LoginUsuario;\r\n  nombreUsuario!: string;\r\n  password!:string;\r\n  roles: string[]=[];\r\n  errMsj!:string;\r\n\r\n  constructor(private tokenService: TokenService, \r\n              private authService: AuthService, \r\n              private router:Router){}\r\n  \r\n\r\n  ngOnInit():void{\r\n    if(this.tokenService.getToken()){\r\n      this.isLogged= true;\r\n      this.isLogginFail= false;\r\n      this.roles= this.tokenService.getAuthorities();\r\n    }\r\n  }\r\n\r\n    onLogin():void{\r\n      this.loginUsuario=new LoginUsuario(this.nombreUsuario,this.password);\r\n      this.authService.login(this.loginUsuario).subscribe(data=>{\r\n        this.isLogged= true;\r\n        this.isLogginFail= false;\r\n        this.tokenService.setToken(data.token);\r\n        this.tokenService.setUserName(data.nombreUsuario);\r\n        this.tokenService.setAuthorities(data.authorities);\r\n        this.roles= data.authorities;\r\n        this.router.navigate([''])\r\n      },err =>{\r\n        this.isLogged=false;\r\n        this.isLogginFail=true;\r\n        this.errMsj= err.console.error.mensaje;\r\n        console.log(this.errMsj);\r\n      })\r\n    } \r\n}\r\n","<div id=\"backgound\" class=\"row container-fluid\">\r\n    <div class=\"\" id=\"caja\">\r\n        <div class=\"\">\r\n            <h3 class=\"h3\">Iniciar sesión para editar el portfolio</h3>\r\n        </div>\r\n        <div>\r\n            <form  #f=\"ngForm\" id=\"form\" action=\"\" class=\"\" (ngSubmit)=\"onLogin()\">\r\n                <div class=\"row\">\r\n                    <div class=\"form-group col-auto mx-auto p-2\">\r\n                        <label for=\"nombreUsuario\" class=\"form-label sv-tipo1\">Nombre de Usuario (Email)</label>\r\n                        <input type=\"email\" name=\"nombreUsuario\" id=\"nombreUsuario\" placeholder=\"@\"\r\n                            class=\"form-control sv-tipo2\"  [(ngModel)]=\"nombreUsuario\" required >\r\n                    </div>\r\n                    <div class=\"form-group col-auto mx-auto p-2\">\r\n                        <label for=\"password\" class=\"form-label sv-tipo1\">Contraseña</label>\r\n                        <input type=\"password\" name=\"password\" id=\"password\"\r\n                            placeholder=\"De 8 a 20 caracteres\" class=\"form-control sv-tipo2\"\r\n                            [(ngModel)]=\"password\" required>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group m-3\">\r\n                        <button type=\"submit\" class=\"btn btn-outline-dark sv-tipo1\">Enviar</button>\r\n                </div>\r\n                <div class=\"\">\r\n                    <h6><a class=\"linktext\" href='' target=\"_blank\" rel=\"noopener noreferrer\" >volver al perfil</a></h6>\r\n                    <h6><a class=\"linktext\" href=\"\" target=\"_blank\" rel=\"noopener noreferrer\">Recuperar contraseña</a></h6>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}