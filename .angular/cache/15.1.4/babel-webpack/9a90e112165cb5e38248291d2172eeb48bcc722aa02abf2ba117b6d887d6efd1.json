{"ast":null,"code":"import { Proyecto } from 'src/app/model/proyecto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/proyecto.service\";\nimport * as i2 from \"src/app/service/token.service\";\nfunction ProyectosComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 3)(2, \"form\", 7, 8);\n    i0.ɵɵlistener(\"ngSubmit\", function ProyectosComponent_div_4_Template_form_ngSubmit_2_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onCreate());\n    });\n    i0.ɵɵelementStart(4, \"div\", 9)(5, \"label\", 10);\n    i0.ɵɵtext(6, \"Proyecto \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_4_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.nombreP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 9)(9, \"label\", 12);\n    i0.ɵɵtext(10, \"link al Proyecto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_4_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.linkProyectoP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 9)(13, \"label\", 14);\n    i0.ɵɵtext(14, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"textarea\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_4_Template_textarea_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.descripcionP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"button\", 17);\n    i0.ɵɵtext(18, \"Agregar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.nombreP);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.linkProyectoP);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.descripcionP);\n  }\n}\nfunction ProyectosComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 3)(2, \"form\", 7, 8);\n    i0.ɵɵlistener(\"ngSubmit\", function ProyectosComponent_div_5_Template_form_ngSubmit_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onUpdate());\n    });\n    i0.ɵɵelementStart(4, \"div\", 9)(5, \"label\", 10);\n    i0.ɵɵtext(6, \"Proyecto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_5_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.proy.nombreP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 9)(9, \"label\", 12);\n    i0.ɵɵtext(10, \"Link al proyecto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_5_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.proy.linkProyectoP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 9)(13, \"label\", 14);\n    i0.ɵɵtext(14, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"textarea\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ProyectosComponent_div_5_Template_textarea_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.proy.descripcionP = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"button\", 17);\n    i0.ɵɵtext(18, \"Confirmar Cambios\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.proy.nombreP);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.proy.nombreP);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.proy.linkProyectoP);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.proy.linkProyectoP);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.proy.descripcionP);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.proy.descripcionP);\n  }\n}\nfunction ProyectosComponent_div_8_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ProyectosComponent_div_8_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const Proyecto_r15 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.delete(Proyecto_r15.id));\n    });\n    i0.ɵɵtext(1, \"Borrar \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 30);\n    i0.ɵɵelement(3, \"path\", 31)(4, \"path\", 32);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProyectosComponent_div_8_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProyectosComponent_div_8_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const Proyecto_r15 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.editar(Proyecto_r15.id));\n    });\n    i0.ɵɵtext(1, \"Editar \");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 34);\n    i0.ɵɵelement(3, \"path\", 35);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProyectosComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"h2\", 22)(2, \"button\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 24)(5, \"div\", 25);\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementStart(8, \"div\", 26);\n    i0.ɵɵtemplate(9, ProyectosComponent_div_8_button_9_Template, 5, 0, \"button\", 27);\n    i0.ɵɵtemplate(10, ProyectosComponent_div_8_button_10_Template, 4, 0, \"button\", 28);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const Proyecto_r15 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"data-bs-target\", \"#\" + Proyecto_r15.nombreP)(\"aria-controls\", Proyecto_r15.nombreP);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", Proyecto_r15.nombreP, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", Proyecto_r15.nombreP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", Proyecto_r15.descripcionP, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLogged);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLogged);\n  }\n}\nexport class ProyectosComponent {\n  constructor(proyectoServ, tokenService) {\n    this.proyectoServ = proyectoServ;\n    this.tokenService = tokenService;\n    this.ProyArray = [];\n    this.proy = null;\n    this.nombreP = '';\n    this.descripcionP = '';\n    this.linkFotoP = '';\n    this.linkProyectoP = '';\n    this.isLogged = false;\n    this.isEdit = false;\n  }\n  ngOnInit() {\n    this.cargarProyecto();\n    if (this.tokenService.getToken()) {\n      this.isLogged = true;\n    } else {\n      this.isLogged = false;\n    }\n  }\n  cargarProyecto() {\n    this.proyectoServ.lista().subscribe(data => {\n      this.ProyArray = data;\n    });\n  }\n  onCreate() {\n    const proyecto = new Proyecto(this.nombreP, this.descripcionP, this.linkFotoP, this.linkProyectoP);\n    this.proyectoServ.save(proyecto).subscribe(data => {\n      alert('Proyecto agregado');\n      this.cargarProyecto();\n    }, err => {\n      alert('Algo salió mal y el proyecto no fue agregado');\n    });\n  }\n  delete(id) {\n    if (id != undefined) {\n      this.proyectoServ.delete(id).subscribe(data => {\n        this.cargarProyecto();\n        alert(\"Proyecto eliminado\");\n      }, err => {\n        alert(\"No se pudo borrar el Proyecto\");\n      });\n    }\n  }\n  editar(id) {\n    if (id != undefined) {\n      this.proyectoServ.detail(id).subscribe(data => {\n        this.proy = data;\n        this.isEdit = true;\n      }, err => {\n        this.isEdit = false;\n      });\n    }\n  }\n  onUpdate() {\n    this.proyectoServ.update(this.proy.id, this.proy).subscribe(data => {\n      this.cargarProyecto();\n      this.isEdit = false;\n      alert(\"Proyecto editado\");\n    }, err => {\n      alert(\"No se pudo editar el proyecto\");\n      this.isEdit = false;\n    });\n  }\n}\nProyectosComponent.ɵfac = function ProyectosComponent_Factory(t) {\n  return new (t || ProyectosComponent)(i0.ɵɵdirectiveInject(i1.ProyectoService), i0.ɵɵdirectiveInject(i2.TokenService));\n};\nProyectosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProyectosComponent,\n  selectors: [[\"app-proyectos\"]],\n  decls: 9,\n  vars: 3,\n  consts: [[1, \"contProyectos\", \"row\", \"container-fluid\"], [1, \"col-12\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"col-10\", \"mx-auto\"], [\"id\", \"contProyectos\", 1, \"accordion\"], [\"class\", \"accordion-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [\"novalidate\", \"\", 1, \"row\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"nombreP\"], [\"type\", \"text\", \"id\", \"nombreP\", \"name\", \"nombreP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"linkProyectoP\"], [\"type\", \"text\", \"id\", \"linkProyectoP\", \"name\", \"linkProyectoP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descripcionP\"], [\"type\", \"text\", \"id\", \"descripcionP\", \"name\", \"descripcionP\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-auto\", \"mx-auto\", \"p-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-dark\", \"btn-sm\"], [\"type\", \"text\", \"id\", \"nombreP\", \"name\", \"nombreP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"linkProyectoP\", \"name\", \"linkProyectoP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"descripcionP\", \"name\", \"descripcionP\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [1, \"accordion-item\"], [1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"aria-expanded\", \"true\", 1, \"accordion-button\"], [\"data-bs-parent\", \"#contProyectos\", 1, \"accordion-collapse\", \"collapse\", \"show\", 3, \"id\"], [1, \"accordion-body\"], [1, \"botones\"], [\"class\", \"btn btn-danger btn-sm m-2\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-outline-dark btn-sm m-2\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"m-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-trash\"], [\"d\", \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z\"], [\"d\", \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z\"], [1, \"btn\", \"btn-outline-dark\", \"btn-sm\", \"m-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-pencil\"], [\"d\", \"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"]],\n  template: function ProyectosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Proyectos y Pr\\u00E1cticas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, ProyectosComponent_div_4_Template, 19, 3, \"div\", 2);\n      i0.ɵɵtemplate(5, ProyectosComponent_div_5_Template, 19, 6, \"div\", 2);\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4);\n      i0.ɵɵtemplate(8, ProyectosComponent_div_8_Template, 11, 7, \"div\", 5);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLogged && !ctx.isEdit);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLogged && ctx.isEdit);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.ProyArray);\n    }\n  },\n  styles: [\".contProyectos[_ngcontent-%COMP%]{\\r\\n    background-color: #a3af9c;\\r\\n    padding: 20px;\\r\\n}\\r\\n.accordion-item[_ngcontent-%COMP%]{\\r\\n    background-color: #e1e6c6;\\r\\n}\\r\\n.accordion-button[_ngcontent-%COMP%]{\\r\\n    background-color: #afc073;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm95ZWN0b3MvcHJveWVjdG9zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsYUFBYTtBQUNqQjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0IiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udFByb3llY3Rvc3tcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNhM2FmOWM7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG59XHJcbi5hY2NvcmRpb24taXRlbXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMWU2YzY7XHJcbn1cclxuLmFjY29yZGlvbi1idXR0b257XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWZjMDczO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,QAAQ,QAAQ,wBAAwB;;;;;;;ICG/CC,8BAA6C;IAEnCA;MAAAA;MAAA;MAAA,OAAYA,gCAAU;IAAA,EAAC;IAC3BA,8BAAwB;IACDA,yBAAS;IAAAA,iBAAQ;IACtCA,iCAAmG;IAA/BA;MAAAA;MAAA;MAAA;IAAA,EAAqB;IAAzFA,iBAAmG;IAErGA,8BAAwB;IACKA,iCAAgB;IAAAA,iBAAQ;IACnDA,kCAAqH;IAArCA;MAAAA;MAAA;MAAA;IAAA,EAA2B;IAA3GA,iBAAqH;IAEvHA,+BAAwB;IACIA,iCAAW;IAAAA,iBAAQ;IAC7CA,qCACsC;IAApCA;MAAAA;MAAA;MAAA;IAAA,EAA0B;IAAUA,iBAAW;IAEnDA,gCAAkC;IAA0DA,wBAAO;IAAAA,iBAAS;;;;IAXtCA,eAAqB;IAArBA,wCAAqB;IAITA,eAA2B;IAA3BA,8CAA2B;IAKzGA,eAA0B;IAA1BA,6CAA0B;;;;;;IAOpCA,8BAA4C;IAElCA;MAAAA;MAAA;MAAA,OAAYA,iCAAU;IAAA,EAAC;IAC3BA,8BAAwB;IACDA,wBAAQ;IAAAA,iBAAQ;IACrCA,iCACoC;IADgCA;MAAAA;MAAA;MAAA,OAAaA,6CACtF;IAAA,EADmG;IAA9FA,iBACoC;IAEtCA,8BAAwB;IACKA,iCAAgB;IAAAA,iBAAQ;IACnDA,kCAC0C;IADsCA;MAAAA;MAAA;MAAA,OAAaA,mDAClG;IAAA,EADqH;IAAhHA,iBAC0C;IAE5CA,+BAAwB;IACIA,iCAAW;IAAAA,iBAAQ;IAC7CA,qCACyE;IAAvEA;MAAAA;MAAA;MAAA,OAAaA,kDAAyB;IAAA,EAAP;IAAwCA,iBAAW;IAEtFA,gCAAkC;IAA0DA,kCACjF;IAAAA,iBAAS;;;;IAbhBA,eAAwB;IAAxBA,sDAAwB;IAD0CA,6CAA0B;IAM5FA,eAA8B;IAA9BA,4DAA8B;IADgDA,mDAAgC;IAM9EA,eAA6B;IAA7BA,2DAA6B;IAA7DA,kDAA+B;;;;;;IAoB7BA,kCAC+B;IAA9BA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAmB;IAAA,EAAC;IAACA,uBAC9B;IAAAA,mBACsB;IADtBA,+BACsB;IACpBA,2BACwK;IAG1KA,iBAAM;;;;;;IACRA,kCAA+F;IAA9BA;MAAAA;MAAA;MAAA;MAAA,OAASA,8CAAmB;IAAA,EAAC;IAACA,uBAC7F;IAAAA,mBAA4H;IAA5HA,+BAA4H;IAC1HA,2BAA8Z;IAChaA,iBAAM;;;;;IAvBfA,+BAA+D;IAIzDA,YACF;IAAAA,iBAAS;IAEXA,+BAAsG;IAElGA,YAAyB;IAAAA,qBAAI;IAC7BA,+BAAqB;IACnBA,gFAQgB;IACjBA,kFAGiB;IACnBA,iBAAM;;;;;IAtBkEA,eAA4C;IAA5CA,4DAA4C;IAEnHA,eACF;IADEA,qDACF;IAEGA,eAAuB;IAAvBA,yCAAuB;IAExBA,eAAyB;IAAzBA,yDAAyB;IAEdA,eAAc;IAAdA,sCAAc;IASfA,eAAc;IAAdA,sCAAc;;;AD5DpC,OAAM,MAAOC,kBAAkB;EAG7BC,YAAoBC,YAA6B,EACvCC,YAA0B;IADhB,iBAAY,GAAZD,YAAY;IACtB,iBAAY,GAAZC,YAAY;IAHtB,cAAS,GAAe,EAAE;IAC1B,SAAI,GAAa,IAAI;IAGnB,YAAO,GAAW,EAAE;IACpB,iBAAY,GAAW,EAAE;IACzB,cAAS,GAAW,EAAE;IACtB,kBAAa,GAAW,EAAE;IAC1B,aAAQ,GAAG,KAAK;IAChB,WAAM,GAAG,KAAK;EANwB;EAQtCC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;IAErB,IAAI,IAAI,CAACF,YAAY,CAACG,QAAQ,EAAE,EAAE;MAChC,IAAI,CAACC,QAAQ,GAAG,IAAI;KACrB,MAAM;MACL,IAAI,CAACA,QAAQ,GAAG,KAAK;;EAEzB;EACAF,cAAc;IAEZ,IAAI,CAACH,YAAY,CAACM,KAAK,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAAG,IAAI,CAACC,SAAS,GAAGD,IAAI;IAAE,CAAC,CAAC;EACzE;EACAE,QAAQ;IACN,MAAMC,QAAQ,GAAG,IAAIf,QAAQ,CAAC,IAAI,CAACgB,OAAO,EAAE,IAAI,CAACC,YAAY,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAACC,aAAa,CAAC;IAClG,IAAI,CAACf,YAAY,CAACgB,IAAI,CAACL,QAAQ,CAAC,CAACJ,SAAS,CACxCC,IAAI,IAAG;MACLS,KAAK,CAAC,mBAAmB,CAAC;MAC1B,IAAI,CAACd,cAAc,EAAE;IACvB,CAAC,EAAEe,GAAG,IAAG;MACPD,KAAK,CAAC,8CAA8C,CAAC;IACvD,CAAC,CACF;EACH;EACAE,MAAM,CAACC,EAAW;IAChB,IAAIA,EAAE,IAAIC,SAAS,EAAE;MACnB,IAAI,CAACrB,YAAY,CAACmB,MAAM,CAACC,EAAE,CAAC,CAACb,SAAS,CACpCC,IAAI,IAAG;QACL,IAAI,CAACL,cAAc,EAAE;QACrBc,KAAK,CAAC,oBAAoB,CAAC;MAC7B,CAAC,EAAEC,GAAG,IAAG;QACPD,KAAK,CAAC,+BAA+B,CAAC;MACxC,CAAC,CACF;;EAEL;EACAK,MAAM,CAACF,EAAW;IAChB,IAAGA,EAAE,IAAIC,SAAS,EAAC;MACnB,IAAI,CAACrB,YAAY,CAACuB,MAAM,CAACH,EAAE,CAAC,CAACb,SAAS,CACpCC,IAAI,IAAG;QACL,IAAI,CAACgB,IAAI,GAAGhB,IAAI;QAChB,IAAI,CAACiB,MAAM,GAAG,IAAI;MACpB,CAAC,EAAEP,GAAG,IAAG;QACP,IAAI,CAACO,MAAM,GAAG,KAAK;MACrB,CAAC,CAAC;;EACN;EAEAC,QAAQ;IAEN,IAAI,CAAC1B,YAAY,CAAC2B,MAAM,CAAC,IAAI,CAACH,IAAI,CAACJ,EAAE,EAAE,IAAI,CAACI,IAAI,CAAC,CAACjB,SAAS,CACzDC,IAAI,IAAG;MACL,IAAI,CAACL,cAAc,EAAE;MACrB,IAAI,CAACsB,MAAM,GAAG,KAAK;MACnBR,KAAK,CAAC,kBAAkB,CAAC;IAC3B,CAAC,EACDC,GAAG,IAAG;MACJD,KAAK,CAAC,+BAA+B,CAAC;MACtC,IAAI,CAACQ,MAAM,GAAG,KAAK;IACrB,CAAC,CACF;EACH;;AAxES3B,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BnC,8BAA+C;MAEvCA,0CAAqB;MAAAA,iBAAK;MAEhCA,oEAoBM;MACNA,oEAsBM;MACNA,8BAA4B;MAExBA,oEA2BM;MACRA,iBAAM;;;MA1EUA,eAAyB;MAAzBA,kDAAyB;MAqBzBA,eAAwB;MAAxBA,iDAAwB;MAyBWA,eAAY;MAAZA,uCAAY","names":["Proyecto","i0","ProyectosComponent","constructor","proyectoServ","tokenService","ngOnInit","cargarProyecto","getToken","isLogged","lista","subscribe","data","ProyArray","onCreate","proyecto","nombreP","descripcionP","linkFotoP","linkProyectoP","save","alert","err","delete","id","undefined","editar","detail","proy","isEdit","onUpdate","update","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\sofia\\Documents\\PROGRAMACION\\CursosFont-End\\ProyectoSPA\\Portfolio\\FrontEnd\\src\\app\\components\\proyectos\\proyectos.component.ts","C:\\Users\\sofia\\Documents\\PROGRAMACION\\CursosFont-End\\ProyectoSPA\\Portfolio\\FrontEnd\\src\\app\\components\\proyectos\\proyectos.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Proyecto } from 'src/app/model/proyecto';\r\nimport { ProyectoService } from 'src/app/service/proyecto.service';\r\nimport { TokenService } from 'src/app/service/token.service';\r\n\r\n@Component({\r\n  selector: 'app-proyectos',\r\n  templateUrl: './proyectos.component.html',\r\n  styleUrls: ['./proyectos.component.css']\r\n})\r\nexport class ProyectosComponent implements OnInit {\r\n  ProyArray: Proyecto[] = [];\r\n  proy: Proyecto = null;\r\n  constructor(private proyectoServ: ProyectoService,\r\n    private tokenService: TokenService) { }\r\n    nombreP: string = '';\r\n    descripcionP: string = '';\r\n    linkFotoP: string = '';\r\n    linkProyectoP: string = '';\r\n    isLogged = false;\r\n    isEdit = false;\r\n\r\n    ngOnInit(): void {\r\n      this.cargarProyecto();\r\n  \r\n      if (this.tokenService.getToken()) {\r\n        this.isLogged = true;\r\n      } else {\r\n        this.isLogged = false;\r\n      }\r\n    }\r\n    cargarProyecto(): void {\r\n\r\n      this.proyectoServ.lista().subscribe(data => { this.ProyArray = data; })\r\n    }\r\n    onCreate(): void {\r\n      const proyecto = new Proyecto(this.nombreP, this.descripcionP, this.linkFotoP, this.linkProyectoP);\r\n      this.proyectoServ.save(proyecto).subscribe(\r\n        data => {\r\n          alert('Proyecto agregado');\r\n          this.cargarProyecto();\r\n        }, err => {\r\n          alert('Algo salió mal y el proyecto no fue agregado');\r\n        }\r\n      )\r\n    }\r\n    delete(id?: number) {\r\n      if (id != undefined) {\r\n        this.proyectoServ.delete(id).subscribe(\r\n          data => {\r\n            this.cargarProyecto();\r\n            alert(\"Proyecto eliminado\");\r\n          }, err => {\r\n            alert(\"No se pudo borrar el Proyecto\");\r\n          }\r\n        )\r\n      }\r\n    }\r\n    editar(id?: number): void {\r\n      if(id != undefined){\r\n      this.proyectoServ.detail(id).subscribe(\r\n        data => {\r\n          this.proy = data;\r\n          this.isEdit = true;\r\n        }, err => {\r\n          this.isEdit = false;\r\n        });}\r\n    }\r\n\r\n    onUpdate(): void {\r\n    \r\n      this.proyectoServ.update(this.proy.id, this.proy).subscribe(\r\n        data => {\r\n          this.cargarProyecto();\r\n          this.isEdit = false;\r\n          alert(\"Proyecto editado\");\r\n        },\r\n        err => {\r\n          alert(\"No se pudo editar el proyecto\");\r\n          this.isEdit = false;\r\n        }\r\n      );\r\n    }\r\n}\r\n","<div class=\"contProyectos row container-fluid\">\r\n  <div class=\"col-12\">\r\n    <h1>Proyectos y Prácticas</h1>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"isLogged && !isEdit\">\r\n    <div class=\"col-10 mx-auto\">\r\n      <form (ngSubmit)=\"onCreate()\" novalidate #f=\"ngForm\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label for=\"nombreP\">Proyecto </label>\r\n          <input type=\"text\" class=\"form-control\" id=\"nombreP\" name=\"nombreP\" [(ngModel)]=\"nombreP\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"linkProyectoP\">link al Proyecto</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"linkProyectoP\" name=\"linkProyectoP\" [(ngModel)]=\"linkProyectoP\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"descripcionP\">Descripción</label>\r\n          <textarea type=\"text\" class=\"form-control\" id=\"descripcionP\" name=\"descripcionP\" rows=\"3\"\r\n            [(ngModel)]=\"descripcionP\" required></textarea>\r\n        </div>\r\n        <div class=\"col-auto mx-auto p-3\"><button type=\"submit\" class=\"btn btn-outline-dark btn-sm\">Agregar</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"isLogged && isEdit\">\r\n    <div class=\"col-10 mx-auto\">\r\n      <form (ngSubmit)=\"onUpdate()\" novalidate #f=\"ngForm\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label for=\"nombreP\">Proyecto</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"nombreP\" name=\"nombreP\" [(ngModel)]=\"proy.nombreP\"\r\n            value=\"{{proy.nombreP}}\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"linkProyectoP\">Link al proyecto</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"linkProyectoP\" name=\"linkProyectoP\" [(ngModel)]=\"proy.linkProyectoP\"\r\n            value=\"{{proy.linkProyectoP}}\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"descripcionP\">Descripción</label>\r\n          <textarea type=\"text\" class=\"form-control\" id=\"descripcionP\" name=\"descripcionP\" rows=\"3\"\r\n            [(ngModel)]=\"proy.descripcionP\" value=\"{{proy.descripcionP}}\" required></textarea>\r\n        </div>\r\n        <div class=\"col-auto mx-auto p-3\"><button type=\"submit\" class=\"btn btn-outline-dark btn-sm\">Confirmar\r\n            Cambios</button></div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-10 mx-auto\">\r\n    <div class=\"accordion\" id=\"contProyectos\">\r\n      <div class=\"accordion-item\" *ngFor=\"let Proyecto of ProyArray\">\r\n        <h2 class=\"accordion-header\">\r\n          <button class=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" [attr.data-bs-target]=\"'#'+Proyecto.nombreP\"\r\n            aria-expanded=\"true\" [attr.aria-controls]=\"Proyecto.nombreP\">\r\n            {{Proyecto.nombreP}}\r\n          </button>\r\n        </h2>\r\n        <div [id]=\"Proyecto.nombreP\" class=\"accordion-collapse collapse show\" data-bs-parent=\"#contProyectos\">\r\n          <div class=\"accordion-body\">\r\n            {{Proyecto.descripcionP}}<br>\r\n            <div class=\"botones\">\r\n              <button *ngIf=\"isLogged\" class=\"btn btn-danger btn-sm m-2\"\r\n               (click)=\"delete(Proyecto.id)\">Borrar\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\"\r\n                 viewBox=\"0 0 16 16\">\r\n                 <path\r\n                   d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z\" />\r\n                 <path\r\n                   d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z\" />\r\n               </svg></button>\r\n             <button *ngIf=\"isLogged\" class=\"btn btn-outline-dark btn-sm m-2\" (click)=\"editar(Proyecto.id)\">Editar\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil\" viewBox=\"0 0 16 16\">\r\n                 <path d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n               </svg></button>\r\n           </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}